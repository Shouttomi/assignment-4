const data = [
  {
    _id: "6251f00761280169d853b314",
    company: "Bechtelar-Bednar",
    position: "Civil Engineer",
    status: "declined",
    jobType: "internship",
    jobLocation: "Kiamba",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-12-27T03:20:35.000Z",
    updatedAt: "2021-12-27T03:20:35.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b304",
    company: "Kunze and Sons",
    position: "Accounting Assistant III",
    status: "interview",
    jobType: "remote",
    jobLocation: "Kafr Manda",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-12-22T11:20:44.000Z",
    updatedAt: "2021-12-22T11:20:44.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b31e",
    company: "Cremin LLC",
    position: "Environmental Tech",
    status: "declined",
    jobType: "full-time",
    jobLocation: "Meixian",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-12-10T00:41:19.000Z",
    updatedAt: "2021-12-10T00:41:19.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b329",
    company: "Klocko and Sons",
    position: "Actuary",
    status: "pending",
    jobType: "full-time",
    jobLocation: "Dianfang",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-12-08T18:33:34.000Z",
    updatedAt: "2021-12-08T18:33:34.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b325",
    company: "Mraz-Hilpert",
    position: "Account Executive",
    status: "pending",
    jobType: "full-time",
    jobLocation: "Kota Kinabalu",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-12-07T20:53:45.000Z",
    updatedAt: "2021-12-07T20:53:45.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b2f4",
    company: "Little LLC",
    position: "Dental Hygienist",
    status: "declined",
    jobType: "remote",
    jobLocation: "Rebrikha",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-11-23T06:27:19.000Z",
    updatedAt: "2021-11-23T06:27:19.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b315",
    company: "Barrows Inc",
    position: "Graphic Designer",
    status: "interview",
    jobType: "internship",
    jobLocation: "Baihua",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-11-22T08:24:08.000Z",
    updatedAt: "2021-11-22T08:24:08.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b2f2",
    company: "Schimmel, Beahan and Baumbach",
    position: "Pharmacist",
    status: "interview",
    jobType: "internship",
    jobLocation: "Jakhaly",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-10-21T07:03:27.000Z",
    updatedAt: "2021-10-21T07:03:27.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b308",
    company: "Stehr, Homenick and Turcotte",
    position: "Assistant Professor",
    status: "interview",
    jobType: "full-time",
    jobLocation: "Shizi",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-10-05T17:37:24.000Z",
    updatedAt: "2021-10-05T17:37:24.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b2f9",
    company: "Fritsch-Muller",
    position: "Desktop Support Technician",
    status: "declined",
    jobType: "remote",
    jobLocation: "Kosai-shi",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-09-24T11:01:03.000Z",
    updatedAt: "2021-09-24T11:01:03.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b2e3",
    company: "Marvin-Wisoky",
    position: "Nuclear Power Engineer",
    status: "interview",
    jobType: "part-time",
    jobLocation: "Sulkava",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-09-22T20:17:03.000Z",
    updatedAt: "2021-09-22T20:17:03.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b320",
    company: "Schmitt, Murphy and Simonis",
    position: "Staff Scientist",
    status: "declined",
    jobType: "internship",
    jobLocation: "Puntaru",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-09-14T23:56:30.000Z",
    updatedAt: "2021-09-14T23:56:30.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b2ea",
    company: "Hills, Ward and Gleichner",
    position: "Senior Editor",
    status: "pending",
    jobType: "part-time",
    jobLocation: "Giồng Riềng",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-08-23T02:08:39.000Z",
    updatedAt: "2021-08-23T02:08:39.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b31d",
    company: "Macejkovic Group",
    position: "Executive Secretary",
    status: "interview",
    jobType: "full-time",
    jobLocation: "Piracuruca",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-08-18T13:07:09.000Z",
    updatedAt: "2021-08-18T13:07:09.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b2f1",
    company: "Littel, Cummerata and Wisoky",
    position: "Accounting Assistant III",
    status: "pending",
    jobType: "remote",
    jobLocation: "Simitli",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-08-12T03:47:47.000Z",
    updatedAt: "2021-08-12T03:47:47.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b30a",
    company: "Rutherford-Considine",
    position: "Chemical Engineer",
    status: "declined",
    jobType: "remote",
    jobLocation: "Sukosari",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-08-09T21:24:39.000Z",
    updatedAt: "2021-08-09T21:24:39.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b326",
    company: "Runolfsdottir and Sons",
    position: "Associate Professor",
    status: "interview",
    jobType: "full-time",
    jobLocation: "Hewan",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-07-24T07:35:08.000Z",
    updatedAt: "2021-07-24T07:35:08.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b2f5",
    company: "Hahn-Koss",
    position: "Clinical Specialist",
    status: "pending",
    jobType: "part-time",
    jobLocation: "Tiancheng",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-06-25T06:40:23.000Z",
    updatedAt: "2021-06-25T06:40:23.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b2ff",
    company: "Wilkinson-Kub",
    position: "Automation Specialist II",
    status: "declined",
    jobType: "remote",
    jobLocation: "Kuznetsovsk",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-06-20T11:21:38.000Z",
    updatedAt: "2021-06-20T11:21:38.000Z",
    __v: 0,
  },
  {
    _id: "6251f00761280169d853b30b",
    company: "Klein, Wunsch and Gutmann",
    position: "Clinical Specialist",
    status: "interview",
    jobType: "full-time",
    jobLocation: "Neiguan",
    createdBy: "6251efad2cfa7a2963501725",
    createdAt: "2021-06-18T08:15:10.000Z",
    updatedAt: "2021-06-18T08:15:10.000Z",
    __v: 0,
  },
];

const randomNames = [
  "John Doe",
  "Jane Smith",
  "Michael Johnson",
  "Emily Davis",
  "David Brown",
];

for (let i = 0; i < data.length; i++) {
  const randomIndex = Math.floor(Math.random() * randomNames.length);
  data[i].company = randomNames[randomIndex];
}

const j = JSON.stringify(data);
const main = JSON.parse(j);

for (let i of main) {
  let card = document.createElement("div");
  card.classList.add("card", i.jobLocation.replace(/\s/g, "_"));

  let card2 = document.createElement("main");
  card2.classList.add("flex-main");

  let position = document.createElement("div");
  position.classList.add("animation1");
  position.innerText = "JOB > ";
  let sp2 = document.createElement("span");
  sp2.classList.add("individual-jobs");
  sp2.innerText = i.position;
  position.appendChild(sp2);
  card2.appendChild(position);

  let name = document.createElement("div");
  name.classList.add("names");
  name.innerText = "NAME > ";
  let sp = document.createElement("span");
  sp.classList.add("individuals");
  sp.innerText = i.company;

  name.appendChild(sp);

  card2.appendChild(name);

  let location = document.createElement("div");
  location.classList.add("locations", i.jobLocation.replace(/\s/g, "_"));

  location.innerText = "LOCATION > " + i.jobLocation;
  card2.appendChild(location);

  card.appendChild(card2);

  document.getElementById("products").appendChild(card2);
}

document.getElementById("button").addEventListener("click", () => {
  let searchinput = document.getElementById("search").value;
  let searchinput2 = document.getElementById("searchjob").value;

  console.log(searchinput);
  let elements = document.querySelectorAll(".locations");
  let elements2 = document.querySelectorAll(".individual-jobs");

  let cards = document.querySelectorAll(".flex-main");

  console.log(elements, elements2);

  elements.forEach((element, index) => {
    if (searchinput && searchinput2) {
      if (
        element.innerText.toLowerCase().includes(searchinput.toLowerCase()) &&
        elements2[index].innerText
          .toLowerCase()
          .includes(searchinput2.toLowerCase())
      ) {
        cards[index].classList.remove("hide");
      } else {
        cards[index].classList.add("hide");
      }
    } else if (searchinput) {
      if (element.innerText.toLowerCase().includes(searchinput.toLowerCase())) {
        cards[index].classList.remove("hide");
      } else {
        cards[index].classList.add("hide");
      }
    } else if (searchinput2) {
      if (
        elements2[index].innerText
          .toLowerCase()
          .includes(searchinput2.toLowerCase())
      ) {
        cards[index].classList.remove("hide");
      } else {
        cards[index].classList.add("hide");
      }
    } else {
      cards[index].classList.remove("hide");
    }
  });

 
});
